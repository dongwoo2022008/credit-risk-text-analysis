# Data Directory

This directory contains all data files used in the study.

## Directory Structure

```
data/
├── raw/                           # Original, unprocessed data
│   └── sentiment_scoring.25.12.30.xlsx
└── processed/                     # Preprocessed data (generated by scripts)
    ├── train_structured.csv       # Training set - structured variables only
    ├── test_structured.csv        # Test set - structured variables only
    ├── train_text.csv             # Training set - text features
    └── test_text.csv              # Test set - text features
```

## Raw Data

### sentiment_scoring.25.12.30.xlsx

- **Description**: Original dataset from Korean P2P lending platform (2006–2016)
- **Format**: Excel (.xlsx)
- **Size**: ~4.4 MB
- **Rows**: 6,057 loan applications
- **Columns**: 
  - 11 structured variables (demographics, credit, loan terms)
  - 3 text fields (title, loan purpose, repayment plan)
  - 1 target variable (binary default indicator)

**Important**: This file should NOT be modified. All preprocessing is done programmatically.

## Processed Data

The `processed/` directory contains preprocessed data generated by the analysis scripts. These files are created automatically when you run the code.

### train_structured.csv

- **Description**: Training set with preprocessed structured variables
- **Format**: CSV
- **Rows**: 4,846 (80% of total)
- **Columns**: 11 structured variables + target

### test_structured.csv

- **Description**: Test set with preprocessed structured variables
- **Format**: CSV
- **Rows**: 1,211 (20% of total)
- **Columns**: 11 structured variables + target

### train_text.csv

- **Description**: Training set with text features (varies by stage)
- **Format**: CSV
- **Rows**: 4,846
- **Columns**: Text features (dimensions vary by representation stage) + target

### test_text.csv

- **Description**: Test set with text features (varies by stage)
- **Format**: CSV
- **Rows**: 1,211
- **Columns**: Text features (dimensions vary by representation stage) + target

## Data Preprocessing

Preprocessing is handled by `code/utils/data_preprocessing.py` and includes:

1. **Train-test split**: 80/20 stratified split (random_state=42)
2. **Structured variables**:
   - Scaling: Standardization or normalization
   - Missing value handling: Imputation or indicator variables
3. **Text variables**:
   - Concatenation of three text fields
   - Normalization, tokenization, stopword removal
   - Feature extraction (Stage 1-4)

For detailed variable definitions, see [`docs/DATA_DICTIONARY.md`](../docs/DATA_DICTIONARY.md).

## Data Usage

### Loading Raw Data

```python
import pandas as pd

# Load raw data
df = pd.read_excel('data/raw/sentiment_scoring.25.12.30.xlsx')
print(df.shape)  # (6057, 15)
```

### Loading Preprocessed Data

```python
import pandas as pd

# Load training data
train_structured = pd.read_csv('data/processed/train_structured.csv')
train_text = pd.read_csv('data/processed/train_text.csv')

# Load test data
test_structured = pd.read_csv('data/processed/test_structured.csv')
test_text = pd.read_csv('data/processed/test_text.csv')
```

## Data Integrity

### Checksums

To verify data integrity, you can compute checksums:

```bash
# MD5 checksum for raw data
md5sum data/raw/sentiment_scoring.25.12.30.xlsx
```

Expected MD5: `[to be filled after data finalization]`

### Validation

Run the data validation script to check for:
- Missing values
- Outliers
- Data type consistency
- Train-test split correctness

```bash
python code/utils/validate_data.py
```

## Data Privacy and Ethics

- All personally identifiable information (PII) has been removed
- Data is anonymized and aggregated at the loan level
- Data collection complied with platform terms of service and applicable privacy laws
- This dataset is for academic research purposes only

## Citation

If you use this data in your research, please cite:

```bibtex
@article{kim2026conditional,
  title={Conditional Value of Borrower Narratives in Credit Risk Prediction: Evidence from a Korean P2P Platform},
  author={Kim, Dongwoo},
  journal={[Journal Name]},
  year={2026},
  note={Under review}
}
```

## Contact

For data-related questions, contact:

**Dongwoo Kim**  
Email: dongwoo.kim@bu.ac.kr

---

Last updated: 2026-02-01
